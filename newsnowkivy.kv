#:kivy 1.11.0
#: import SlideTransition kivy.uix.screenmanager.SlideTransition

ScreenManagement:
    transition: SlideTransition()
    duration: .05

    TopicSelectionPage:
    NewsSelectionPage:
    FoxNews:
    NyPost:
    DailyMail:
    Newsmax:
    Reason:
    WashingtonTimes:
    BBC:
    NPR:
    USAToday:
    ABC:
    NBC:
    NyTimes:
    Vox
    MSNBC:
    MotherJones:


<TopicSelectionPage>:
    name: "topic"
    base_widget: base

    Widget:
        id: base
        background_color: (0, 0, 0, 0)
        size: (800, 600)
        pos: (0, 0)

        canvas:
            Color:
                rgb: (1, 1, 1)
            Rectangle:
                pos: (0, 480)
                size: (800, 120)
        Label:
            outline_width: 4
            outline_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            markup: True
            text: "[b]Welcome to the News Now App![/b]"
            font_size: 47
            pos: (root.center_x - (self.width / 2), 480 + (self.height / 2))
            size: self.texture_size
        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Pick a Topic:[/b]"
            font_size: 53
            pos: (root.center_x - (self.width / 2), 375)
            size: self.texture_size



<NewsSelectionPage>:
    name: "site"
    back_button: back
    fox_button: foxnews
    nypost_button: nypost
    dailymail_button: dailymail
    newsmax_button: newsmax
    reason_button: reason
    wtimes_button: wtimes
    bbc_button: bbc
    npr_button: npr
    usa_button: usatoday
    abc_button: abc
    nbc_button: nbc
    nytimes_button: nytimes
    vox_button: vox
    msnbc_button: msnbc
    mjones_button: mjones

    Widget:
        canvas:
            Color:
                rgb: (1, 1, 1)
            Rectangle:
                pos: (0, 480)
                size: (800, 120)
        Label:
            outline_width: 5
            outline_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            markup: True
            text: "[b]News Now[/b]"
            font_size: 47
            #self.width / 2 is 49
            pos: (root.center_x - (self.width / 2), 480 + (self.height / 2))
            size: self.texture_size
        Button:
            id: back
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Back[/b]"
            font_size: 26.7
            pos: (53, 480 + (self.height / 1.35))
            size: (90, 40)
            on_press: root.manager.current = "topic"

            canvas.before:
                Color:
                    rgba: (.96, .60, .61, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
    GridLayout:
        cols: 3
        col_default_width: 160
        rows: 5
        row_default_height: 50
        spacing: 40
        padding: (210, 155, 0, 0)

        Button:
            id: foxnews
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Fox News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "foxnews"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: nypost
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]NY Post[/b]"
            font_size: 26.7
            on_press: root.manager.current = "nypost"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: dailymail
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Daily Mail[/b]"
            font_size: 26.7
            on_press: root.manager.current = "dailymail"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: newsmax
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Newsmax[/b]"
            font_size: 26.7
            on_press: root.manager.current = "newsmax"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: reason
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Reason[/b]"
            font_size: 26.7
            on_press: root.manager.current = "reason"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: wtimes
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Washington\n     Times[/b]"
            font_size: 26.7
            on_press: root.manager.current = "wtimes"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: bbc
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]BBC News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "bbc"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: npr
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]NPR News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "npr"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: usatoday
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Usa Today[/b]"
            font_size: 26.7
            on_press: root.manager.current = "usatoday"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)

        Button:
            id: abc
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]ABC News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "abc"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: nbc
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]NBC News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "nbc"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: nytimes
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]NY Times[/b]"
            font_size: 26.7
            on_press: root.manager.current = "nytimes"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: vox
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Vox News[/b]"
            font_size: 26.7
            on_press: root.manager.current = "vox"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: msnbc
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]MSNBC[/b]"
            font_size: 26.7
            on_press: root.manager.current = "msnbc"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: mjones
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Mother Jones[/b]"
            font_size: 26.7
            on_press: root.manager.current = "mjones"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
    GridLayout:
        cols: 1
        col_default_width: 160
        rows: 5
        row_default_height: 90
        padding: (20, 155, 0, 0)
        pos: (0, 20)

        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Right:[/b]"
            font_size: 30
            size: self.texture_size
        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Right-leaning:[/b]"
            font_size: 25
            size: self.texture_size
        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Center:[/b]"
            font_size: 30
            size: self.texture_size
        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Left-leaning:[/b]"
            font_size: 25
            size: self.texture_size
        Label:
            outline_width: 2
            outline_color: (1, 1, 1)
            color: (.96, .60, .61, 1)
            markup: True
            text: "[b]Left:[/b]"
            font_size: 30
            size: self.texture_size


<SiteLayout>:
    news_articles: articles
    back_button: back
    menu_button: menu
    refresh_button: refresh
    next_button: next
    previous_button: prev
    site_layout: layout
    id: layout

    ScrollView:
        do_scroll_x: False
        do_scroll_y: True
        pos: (0, -140)
        smooth_scroll_end: 5
        bar_width: 7
        bar_margin: 5
        bar_color: (.96, .60, .61, 1)
        bar_inactive_color: (.96, .60, .61, .4)
        scroll_type: ['bars', 'content']

        GridLayout:
            id: articles
            cols: 1
            col_default_width: 580
            padding: [190, 140, 0, 0]
            size_hint_y: None
            height: self.minimum_height
            spacing: 170

    Widget:
        canvas.before:
            Color:
                rgb: (.96, .60, .61, 1)
        canvas:
            Color:
                rgb: (1, 1, 1)
            Rectangle:
                pos: (0, 480)
                size: (800, 120)
        Label:
            outline_width: 5
            outline_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            markup: True
            font_size: 47
            #self.width / 2 is 49
            pos: (root.center_x - (self.width / 2), 480 + (self.height / 2))
            size: self.texture_size
        Button:
            id: back
            background_color: (.96, .60, .61, 1)
            color: (1, 1, 1, 1)
            text: "[b]Back[/b]"
            font_size: 26.7
            pos: (53, 480 + (self.height / 1.35))
            size: (90, 40)
            on_press: root.manager.current = "site"

            canvas.before:
                Color:
                    rgba: (.96, .60, .61, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: refresh
            background_color: (1, 1, 1, 1)
            color: (.96, .60, .61, 1)
            text: "[b]Refresh[/b]"
            font_size: 21
            pos: (53, 400)
            size: (90, 40)
            on_press:
                root.manager.current = root.manager.next()
                root.manager.current = root.manager.previous()

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: next
            background_color: (1, 1, 1, 1)
            color: (.96, .60, .61, 1)
            text: "[b]Next[/b]"
            font_size: 26.7
            pos: (53, 280)
            size: (90, 40)
            on_press: root.manager.current = root.manager.next()

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: prev
            background_color: (1, 1, 1, 1)
            color: (.96, .60, .61, 1)
            text: "[b]Previous[/b]"
            font_size: 18.5
            pos: (53, 220)
            size: (90, 40)
            on_press: root.manager.current = root.manager.previous()

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
        Button:
            id: menu
            background_color: (1, 1, 1, 1)
            color: (.96, .60, .61, 1)
            text: "[b]Menu[/b]"
            font_size: 26.7
            pos: (53, 340)
            size: (90, 40)
            on_press: root.manager.current = "topic"

            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Rectangle:
                    size: (self.width + 8, self.height + 8)
                    pos: (self.x - 4, self.y - 4)
